<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/css/dataTables.bootstrap4.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/brands.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/regular.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/solid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/svg-with-js.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/v4-shims.min.css">
</head>
<body style="background-color:#28616b">

<div id="project-container">
<div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD WEB</h4>
                         <p>BDD WEB Raporlarını Görüntülemek için</p>
                        <a href="#" id="web">Tıklayınız</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD Android</h4>
                         <p>BDD Android Raporlarını Görüntülemek için</p>
                        <a href="#" id="android">Tıklayınız</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD IOS</h4>
                         <p>BDD IOS Raporlarını Görüntülemek için</p>
                        <a href="#" id="ios">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>KARATE</h4>
                        <p>Karate Api Raporlarını Görüntülemek için</p>
                        <a href="#" id="karate">Tıklayınız</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>GRAFANA</h4>
                        <p>Grafana JMeter Login Sayfası için</p>
                        <a href="/login" id="grafana" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12"> 
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>SWAGGER</h4>
                        <p>Swagger Webservislerini Görüntülemek için</p>
                        <a href="/api-docs/#/" id="swagger" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12"> 
                <div class="elips">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>LOGS</h4>
                        <p>Server ve Agent Loglarını Görüntülemek için</p>
                        <a href="/logs" id="swagger" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container table-container my-report-table-container" style="display:none;">
    <table id="myDataTable" class="table table-striped table-light table-hover" cellspacing="0" width="100%">
        <thead class="thead-my-style">
            <tr>
                <th ><img src="/img/nsn.png"/></th>
                <th ><i class="fas fa-file-signature"></i>  Rapor Adı</th>
                <th ><i class="far fa-calendar-alt"></i>  Rapor Tarihi</th>
                <th ><i class="far fa-clock"></i>  Rapor Saati</th>
                <th ><i class="far fa-user"></i> Kullanıcı</th>
            </tr>
        </thead>
        <tbody id="myTable"></tbody>
    </table>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.13/js/dataTables.bootstrap4.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/brands.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/conflict-detection.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/fontawesome.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/regular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/solid.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/v4-shims.min.js"></script>
<script>
    $(document).ready(function(){
        $("#web").click(function(){
            showHideContainers();
            $.get("/bddweb", function(data, status){
                addDataToTable(data,status);
            });
        });
        $("#android").click(function(){
            showHideContainers();
            $.get("bddandroid", function(data, status){
               addDataToTable(data,status);
            });
        });
        $("#ios").click(function(){
            showHideContainers();
            $.get("bddios", function(data, status){
                addDataToTable(data,status);
            });
        });
        $("#karate").click(function(){
            showHideContainers();
            $.get("karate", function(data, status){
                addDataToTable(data,status);
            });
        });
        
    });

    function showHideContainers(){
        $("#project-container").hide();
        $(".table-container").show();
    }

    function addDataToTable(data,status){
        console.log("Dosyalar: " + data + "\nStatus: " + status);
                var counter=0;
                data.forEach(function(num){
                    counter++;
                    $("#myTable").append('<tr><th scope="row" class="myTableRow">'+counter
                        +'</th><td class="reportName"><a href="/'+num+'" id="'+num+'" target="_blank">' + num 
                        + '</a></td><td class="reportDate">'+getTosReportDate(num)
                        +'</td><td class="reportTime">'+getTosReportTime(num)+'</td>'
                        +'<td class="reportUser"> Test Otomasyon </td>');
                });
                $('#myDataTable').DataTable();
    }

    function getTosReportTime(str) {
        return str[0]+str[1] + ":" + str[2] + str[3] +":"+ str[4]+ str[5];
    }
    function getTosReportDate(str) {
        return str[6]+str[7] + "." + str[8] + str[9] +"."+ str[10]+ str[11] +str[12]+str[13];
    }
</script>
</body>
</html>