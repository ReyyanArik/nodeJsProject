<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap-grid.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/css/dataTables.bootstrap4.min.css" rel="stylesheet"/>
</head>
<body style="background-color:#28616b">

<div id="project-container" >
<div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD WEB</h4>
                         <p>BDD WEB Raporlarını Görüntülemek için</p>
                        <a href="#" id="web">Tıklayınız</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD Android</h4>
                         <p>BDD Android Raporlarını Görüntülemek için</p>
                        <a href="#" id="android">Tıklayınız</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>BDD IOS</h4>
                         <p>BDD IOS Raporlarını Görüntülemek için</p>
                        <a href="#" id="ios">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>KARATE</h4>
                        <p>Karate Api Raporlarını Görüntülemek için</p>
                        <a href="#" id="karate">Tıklayınız</a>
                    </div>
                </div>
            </div>
</div>
<div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>GRAFANA</h4>
                        <p>Grafana JMeter Login Sayfası için</p>
                        <a href="/login" id="grafana" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12"> 
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>SWAGGER</h4>
                        <p>Swagger Webservislerini Görüntülemek için</p>
                        <a href="/api-docs/#/" id="swagger" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12"> 
                <div class="square">
                    <span></span>
                    <span></span>
                    <span></span>
                    <div class="content">
                        <h4>LOGS</h4>
                        <p>Agent ve Grid Loglarını Görüntülemek için</p>
                        <a href="/logs" id="swagger" target="_blank">Tıklayınız</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container table-container my-report-table-container" style="display:none;">
    
        <table id="myDataTable" class="table table-striped table-light table-hover" cellspacing="0" width="100%">
            <thead class="thead-my-style">
                <tr>
                  <th ><img src="/img/nsn.png"/></th>
                  <th >Rapor Adı</th>
                  <th >Rapor Tarihi</th>
                  <th >Rapor Saati</th>
                </tr>
            </thead>
            <tbody id="myTable"></tbody>
        </table>
    
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.13/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function(){
        $("#web").click(function(){
            $("#project-container").hide();
            $(".table-container").show();
            $.get("/bddweb", function(data, status){
                addDataToTable(data,status);
            });
        });
        $("#android").click(function(){
            $("#project-container").hide();
            $(".table-container").show();
            $.get("bddandroid", function(data, status){
               addDataToTable(data,status);
            });
        });
        $("#ios").click(function(){
            $("#project-container").hide();
            $(".table-container").show();
            $.get("bddios", function(data, status){
                addDataToTable(data,status);
            });
        });
        $("#karate").click(function(){
            $("#project-container").hide();
            $(".table-container").show();
            $.get("karate", function(data, status){
                addDataToTable(data,status);
            });
        });
        
    });

    function addDataToTable(data,status){
        console.log("Dosyalar: " + data + "\nStatus: " + status);
                var counter=0;
                data.forEach(function(num){
                    counter++;
                    $("#myTable").append('<tr><th scope="row" class="myTableRow">'+counter
                        +'</th><td class="reportName"><a href="/'+num+'" id="'+num+'">' + num 
                        + '</a></td><td class="reportDate">'+getMyReportDate(num)
                        +'</td><td class="reportTime">'+getMyReportTime(num)+'</td>');
                });
                $('#myDataTable').DataTable();
    }

    function getMyReportTime(str) {
        return str[0]+str[1] + ":" + str[2] + str[3] +":"+ str[4]+ str[5];
    }
    function getMyReportDate(str) {
        return str[6]+str[7] + "." + str[8] + str[9] +"."+ str[10]+ str[11] +str[12]+str[13];
    }
</script>





</body>
</html>